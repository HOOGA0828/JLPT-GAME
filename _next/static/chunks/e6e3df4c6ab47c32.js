(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3007,68834,62388,e=>{"use strict";let t,r;var a=e.i(71645);let n=e=>{let t,r=new Set,a=(e,a)=>{let n="function"==typeof e?e(t):e;if(!Object.is(n,t)){let e=t;t=(null!=a?a:"object"!=typeof n||null===n)?n:Object.assign({},t,n),r.forEach(r=>r(t,e))}},n=()=>t,i={setState:a,getState:n,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=t=e(a,n,i);return i},i=e=>{let t=e?n(e):n,r=e=>(function(e,t=e=>e){let r=a.default.useSyncExternalStore(e.subscribe,a.default.useCallback(()=>t(e.getState()),[e,t]),a.default.useCallback(()=>t(e.getInitialState()),[e,t]));return a.default.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},l=e=>e?i(e):i;e.s(["create",()=>l],68834);let s=e=>t=>{try{let r=e(t);if(r instanceof Promise)return r;return{then:e=>s(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>s(t)(e)}}},o=l()((t=e=>({language:"zh",setLanguage:t=>e({language:t}),toggleLanguage:()=>e(e=>({language:"zh"===e.language?"en":"zh"}))}),r={name:"language-storage"},(e,a,n)=>{let i,l={storage:function(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var t;let a=e=>null===e?null:JSON.parse(e,void 0),n=null!=(t=r.getItem(e))?t:null;return n instanceof Promise?n.then(a):a(n)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>r.removeItem(e)}}(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...r},o=!1,c=0,u=new Set,d=new Set,g=l.storage;if(!g)return t((...t)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),e(...t)},a,n);let m=()=>{let e=l.partialize({...a()});return g.setItem(l.name,{state:e,version:l.version})},h=n.setState;n.setState=(e,t)=>(h(e,t),m());let f=t((...t)=>(e(...t),m()),a,n);n.getInitialState=()=>f;let p=()=>{var t,r;if(!g)return;let n=++c;o=!1,u.forEach(e=>{var t;return e(null!=(t=a())?t:f)});let h=(null==(r=l.onRehydrateStorage)?void 0:r.call(l,null!=(t=a())?t:f))||void 0;return s(g.getItem.bind(g))(l.name).then(e=>{if(e)if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];else{if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(t=>{var r;if(n!==c)return;let[s,o]=t;if(e(i=l.merge(o,null!=(r=a())?r:f),!0),s)return m()}).then(()=>{n===c&&(null==h||h(i,void 0),i=a(),o=!0,d.forEach(e=>e(i)))}).catch(e=>{n===c&&(null==h||h(void 0,e))})};return n.persist={setOptions:e=>{l={...l,...e},e.storage&&(g=e.storage)},clearStorage:()=>{null==g||g.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>p(),hasHydrated:()=>o,onHydrate:e=>(u.add(e),()=>{u.delete(e)}),onFinishHydration:e=>(d.add(e),()=>{d.delete(e)})},l.skipHydration||p(),i||f}));e.s(["useLanguageStore",0,o],3007),e.s(["translations",0,{zh:{home:{title_prefix:"JLPT",title_suffix:"大師",subtitle:"",quiz_title:"每日測驗挑戰",quiz_desc:"N1-N3 混合適性測驗",learn_title:"字典",learn_desc:"搜尋與探索"},setup:{title:"測驗設定",subtitle:"自訂您的挑戰組合",n1_btn:"N1",n2_btn:"N2",n3_btn:"N3",n1_label:"N1",n2_label:"N2",n3_label:"N3",total_label:"總題數",start_btn:"開始挑戰",warning_total:"請調整題目總數至 20 題",back:"回首頁"},play:{next_btn:"下一題",exit_btn:"回首頁",question_progress:"進度",confirm_quit:"確定要退出嗎？",cancel:"取消",confirm:"確定"},learn:{title:"字典",back_home:"回首頁",search_placeholder:"搜尋漢字...",n1:"N1",n2:"N2",n3:"N3"},result:{title:"最終成績",correct:"答對",total:"總數",review_title:"詳細檢討",try_again:"再試一次",back_home:"回首頁",encouragement:{perfect:"太神了！簡直是漢字大師！",great:"做得好！繼續保持！",good:"不錯喔！再接再厲。",practice:"繼續練習，你會進步的！"},review_list:{kanji:"漢字",meaning:"意思",your_answer:"您的回答",correct_answer:"正確答案"}}},en:{home:{title_prefix:"JLPT",title_suffix:"Master",subtitle:"Zen-Modern Kanji Mastery.",quiz_title:"Daily Quiz Challenge",quiz_desc:"Adaptive N1-N3 Mix",learn_title:"Visual Dictionary",learn_desc:"Search & Explore"},setup:{title:"Quiz Setup",subtitle:"Customize your challenge matrix",n1_btn:"N1 Only",n2_btn:"N2 Only",n3_btn:"N3 Only",n1_label:"N1 Advanced",n2_label:"N2 Intermediate",n3_label:"N3 Basic",total_label:"Total Questions",start_btn:"Start Challenge",warning_total:"Total must be 20 questions",back:"Back Home"},play:{next_btn:"Next Question",exit_btn:"Exit",question_progress:"Quest",confirm_quit:"Are you sure you want to quit?",cancel:"Cancel",confirm:"Confirm"},learn:{title:"Visual Dictionary",back_home:"Back Home",search_placeholder:"Search Kanji...",n1:"N1 Advanced",n2:"N2 Intermediate",n3:"N3 Basic"},result:{title:"Final Score",correct:"Correct",total:"Total",review_title:"Review Mistakes",try_again:"Try Again",back_home:"Back Home",encouragement:{perfect:"Excellent! You are a master.",great:"Great job! Keep it up.",good:"Good effort. Just a bit more practice.",practice:"Keep practicing. You'll get there!"},review_list:{kanji:"Kanji",meaning:"Meaning",your_answer:"You Chose",correct_answer:"Correct"}}}}],62388)},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:s="",children:o,iconNode:c,...u},d)=>(0,t.createElement)("svg",{ref:d,...n,width:a,height:a,stroke:e,strokeWidth:l?24*Number(i)/Number(a):i,className:r("lucide",s),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(o)?o:[o]])),l=(e,n)=>{let l=(0,t.forwardRef)(({className:l,...s},o)=>(0,t.createElement)(i,{ref:o,iconNode:n,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,l),...s}));return l.displayName=a(e),l};e.s(["default",()=>l],75254)},31487,e=>{"use strict";var t=e.i(74590),r=e.i(59778),a=e.i(52924);let n=(e,t)=>e.filter(e=>e.kanji&&e.reading&&e.meaning_zh&&Array.isArray(e.distractors)&&e.distractors.length>0).map(e=>({kanji:e.kanji,reading:e.reading,meaning_zh:e.meaning_zh,distractors:e.distractors,level:t,game_enabled:e.game_enabled}));e.s(["getAllQuestions",0,()=>[...n(t.default,"N1"),...n(r.default,"N2"),...n(a.default,"N3")]])},18566,(e,t,r)=>{t.exports=e.r(76562)},4421,e=>{"use strict";var t=e.i(68834),r=e.i(31487);let a=(0,t.create)((e,t)=>({questions:[],n1Count:5,n2Count:10,n3Count:5,isHybrid:!0,isPlaying:!1,currentIndex:0,answers:[],startTime:0,setCounts:(t,r,a)=>e({n1Count:t,n2Count:r,n3Count:a}),startQuiz:()=>{let{n1Count:a,n2Count:n,n3Count:i}=t(),l=(0,r.getAllQuestions)(),s=l.filter(e=>"N1"===e.level&&!1!==e.game_enabled).sort(()=>.5-Math.random()),o=l.filter(e=>"N2"===e.level&&!1!==e.game_enabled).sort(()=>.5-Math.random()),c=l.filter(e=>"N3"===e.level&&!1!==e.game_enabled).sort(()=>.5-Math.random());e({questions:[...s.slice(0,a),...o.slice(0,n),...c.slice(0,i)].sort(()=>.5-Math.random()),isPlaying:!0,currentIndex:0,answers:[],startTime:Date.now()})},answerQuestion:r=>{let{questions:a,currentIndex:n,answers:i}=t(),l=a[n],s=r===l.reading;e({answers:[...i,{question:l,selected:r,isCorrect:s,timeTaken:Date.now()-t().startTime}]})},nextQuestion:()=>{let{currentIndex:r,questions:a}=t();r<a.length-1?e({currentIndex:r+1}):t().endQuiz()},endQuiz:()=>{e({isPlaying:!1})},resetQuiz:()=>{e({isPlaying:!1,currentIndex:0,answers:[]})}}));e.s(["useQuizStore",0,a])},69638,73884,e=>{"use strict";var t=e.i(75254);let r=(0,t.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>r],69638);let a=(0,t.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>a],73884)},83462,e=>{"use strict";var t=e.i(43476),r=e.i(4421),a=e.i(3007),n=e.i(62388),i=e.i(18566),l=e.i(69638),s=e.i(73884),o=e.i(75254);let c=(0,o.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),u=(0,o.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var d=e.i(71645);function g(){let e=(0,i.useRouter)(),{answers:o,questions:g,startQuiz:m,isPlaying:h}=(0,r.useQuizStore)(),{language:f}=(0,a.useLanguageStore)(),p=n.translations[f].result;(0,d.useEffect)(()=>{h||0!==o.length||e.push("/home")},[o,g,h,e]);let y=Math.round(o.filter(e=>e.isCorrect).length/g.length*100)||0;return 0!==o.length||h?(0,t.jsx)("main",{className:"flex-center flex-col p-responsive",style:{minHeight:"100vh",background:"var(--bg-secondary)"},children:(0,t.jsxs)("div",{className:"glass-card animate-slide-up p-card-responsive",style:{maxWidth:"42rem",width:"100%",textAlign:"center"},children:[(0,t.jsx)("h1",{style:{marginBottom:"1rem",color:"var(--text-primary)"},children:p.title}),(0,t.jsxs)("div",{style:{fontSize:"4rem",fontWeight:900,color:"var(--n1-primary)",marginBottom:"2rem"},children:[y,"%"]}),(0,t.jsx)("div",{style:{display:"grid",gap:"1rem",textAlign:"left",marginBottom:"3rem"},children:o.map((e,r)=>(0,t.jsxs)("div",{className:"p-item-responsive",style:{display:"flex",alignItems:"center",background:e.isCorrect?"#dcfce7":"#fee2e2",border:`1px solid ${e.isCorrect?"#86efac":"#fca5a5"}`,borderRadius:"var(--radius-lg)"},children:[(0,t.jsx)("div",{className:"text-kanji-responsive",style:{fontWeight:900,fontFamily:"var(--font-mono)",lineHeight:1.2,minWidth:"4.5rem",textAlign:"center",borderRight:`2px solid ${e.isCorrect?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)"}`,paddingRight:"1rem",marginRight:"1rem",color:"var(--text-primary)"},children:e.question.kanji}),(0,t.jsxs)("div",{style:{flex:1,minWidth:0,textAlign:"left"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.25rem"},children:[(0,t.jsx)("span",{style:{fontWeight:700,fontSize:"1.25rem",color:"var(--text-primary)"},children:e.question.reading}),e.isCorrect?(0,t.jsx)(l.CheckCircle,{size:20,color:"#22c55e"}):(0,t.jsx)(s.XCircle,{size:20,color:"#ef4444"})]}),(0,t.jsx)("div",{style:{color:e.isCorrect?"#15803d":"#b91c1c",fontSize:"1rem",fontWeight:500},children:e.question.meaning_zh})]})]},r))}),(0,t.jsxs)("div",{className:"grid-responsive",children:[(0,t.jsxs)("button",{onClick:()=>e.push("/home"),className:"btn btn-outline",style:{justifyContent:"center"},children:[(0,t.jsx)(u,{size:20}),p.back_home]}),(0,t.jsxs)("button",{onClick:()=>{m(),e.push("/quiz/play")},className:"btn btn-primary",style:{justifyContent:"center"},children:[(0,t.jsx)(c,{size:20}),p.try_again]})]})]})}):null}e.s(["default",()=>g],83462)}]);